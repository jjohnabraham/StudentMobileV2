<?xml version="1.0" encoding="utf-8"?>
<widget id="{app-id}"
        version="{app-version}"
        android-versionCode="{android-version-code}"
        ios-CFBundleVersion="{app-build}"
        xmlns="http://www.w3.org/ns/widgets"
        xmlns:cdv="http://cordova.apache.org/ns/1.0"
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools">
	<name>{app-name}</name>
	<description>
		{app-description}
	</description>
	<author email="amarshall@careered.com" href="http://www.careered.com">
		Career Education Corporation
	</author>
	<content src="index.html" />
  <preference name="BackgroundColor" value="0xFFFFFFFF" />
  <preference name="orientation" value="default" />
  <preference name="AutoHideSplashScreen" value="true" />
  <preference name="FadeSplashScreen" value="true" />
  <preference name="FadeSplashScreenDuration" value="100" />
  <preference name="ShowSplashScreenSpinner" value="true" />
  <preference name="SplashScreenDelay" value="550" />
	<preference name="KeyboardShrinksView" value="true" />
	<preference name="CordovaWebViewEngine" value="CDVWKWebViewEngine" />
	<preference name="webviewbounce" value="false" />
	<preference name="DisallowOverscroll" value="true" />
	<preference name="UIWebViewBounce" value="false" />
	<preference name="KeyboardDisplayRequiresUserAction" value="false" />
	<preference name="KeyboardResize" value="false" />
  <preference name="WKWebViewOnly" value="true"/>
	<!-- Urban Airship Settings -->
	<!-- Urban Airship app credentials -->
	<preference name="com.urbanairship.production_app_key" value="{urban-airship-app-key}" />
	<preference name="com.urbanairship.production_app_secret" value="{urban-airship-app-secret}" />
	<preference name="com.urbanairship.development_app_key" value="" />
	<preference name="com.urbanairship.development_app_secret" value="" />

	<!-- Required for Android. -->
	<preference name="com.urbanairship.gcm_sender" value="sender:{urban-airship-gcm-sender-id}" />
	<!-- If the app is in production or not -->
	<preference name="com.urbanairship.in_production" value="true" />
	<!-- Optional config values -->
	<!-- Enable push when the application launches -->
	<preference name="com.urbanairship.enable_push_onlaunch" value="false" />
	<!-- Enable Analytics when the application launches -->
	<!-- Warning: Features that depend on analytics being enabled may not work properly if analytics is disabled (reports, location segmentation, region triggers, push to local time). -->
	<preference name="com.urbanairship.enable_analytics" value="true" />
	<!-- Urban Airship development log level defaults to debug -->
	<preference name="com.urbanairship.development_log_level" value="debug" />
	<!-- Urban Airship production log level defaults to error -->
	<preference name="com.urbanairship.production_log_level" value="error" />
	<!-- Override the Android notification icon -->
	<preference name="com.urbanairship.notification_icon" value="ic_notification" />
	<!-- Specify the notification accent color for Android API 21+ (Lollipop) -->
	<preference name="com.urbanairship.notification_accent_color" value="{urban-airship-notification-accent-color}" />
	<!-- Clear the iOS badge on launch -->
	<preference name="com.urbanairship.clear_badge_onlaunch" value="false" />
	<!-- Enables/disables auto launching the message center when the corresponding push is opened. -->
	<preference name="com.urbanairship.auto_launch_message_center" value="false" />
	<!-- iOS 10 alert foreground notification presentation option -->
	<preference name="com.urbanairship.ios_foreground_notification_presentation_alert" value="true"/>
	<!-- iOS 10 badge foreground notification presentation option -->
	<preference name="com.urbanairship.ios_foreground_notification_presentation_badge" value="true"/>
	<!-- iOS 10 sound foreground notification presentation option -->
	<preference name="com.urbanairship.ios_foreground_notification_presentation_sound" value="true"/>
	<!-- End Urban Airship Settings -->

	<allow-intent href="http://*/*" />
	<allow-intent href="https://*/*" />
	<allow-intent href="tel:*" />
	<allow-intent href="sms:*" />
	<allow-intent href="mailto:*" />
	<allow-intent href="geo:*" />
	<allow-intent href="{custom-url-scheme}:*" />

  <allow-navigation href="file://*/*" />
  <allow-navigation href="http://dev-studentapp.careered.com/*"/>
  <allow-navigation href="https://dev-studentapp.careered.com/*"/>

	<allow-navigation href="https://*.loudcloudsystems.com" />
	<allow-navigation href="http://localhost:8080/*" />
	<allow-navigation href="https://*.sendbird.com" />
  <allow-navigation href="http://*.sendbird.com" />
	<allow-navigation href="wss://*.sendbird.com" />
	<allow-navigation href="https://fonts.googleapis.com" />
	<allow-navigation href="https://fonts.gstatic.com" />
	<allow-navigation href="https://*.google-analytics.com" />
	<allow-navigation href="http://*.careered.com" />
	<allow-navigation href="https://*.careered.com" />
	<allow-navigation href="http://*.aiuniv.edu" />
	<allow-navigation href="https://*.aiuniv.edu" />
	<allow-navigation href="http://*.aiuonline.com" />
	<allow-navigation href="https://*.aiuonline.com" />
	<allow-navigation href="http://*.aiuonline.edu" />
	<allow-navigation href="https://*.aiuonline.edu" />
	<allow-navigation href="http://*.coloradotech.edu" />
	<allow-navigation href="https://*.coloradotech.edu" />
	<allow-navigation href="http://*.ctuonline.com" />
	<allow-navigation href="https://*.ctuonline.com" />
	<allow-navigation href="http://*.ctuonline.edu" />
	<allow-navigation href="https://*.ctuonline.edu" />
	<allow-navigation href="http://*.unpkg.com" />
	<allow-navigation href="https://*.unpkg.com" />
	<allow-navigation href="https://*.microsoftonline.com" />
  <allow-navigation href="*://*.youtube.*/*" />
  <allow-navigation href="*://*.ytimg.*/*" />
  <allow-navigation href="*://*.youtube-nocookie.*/*" />
  <allow-navigation href="*://*.ted.*/*" />
  <allow-navigation href="*://*.vimeo.*/*" />
  <allow-navigation href="*://*.chameleon.*/*"/>
	<allow-navigation href="https://*.chameleon.io"/>
	<allow-navigation href="https://*.chmln-cdn.io"/>
	<allow-navigation href="https://*.trychameleon.com"/>

 
	<access origin="https://*.google-analytics.com" />
	<access origin="https://*.careered.com" />
  <access origin="http://*.careered.com" />
	<access origin="https://*.unpkg.com" />
	<access origin="https://*.amazonaws.com" />
	<access origin="https://*.youtube-nocookie.com" />
	<access origin="https://*.youtube.com" />
	<access origin="https://*.ytimg.com" />
	<access origin="https://*.gstatic.com" />
	<access origin="https://*.googlevideo.com" />
	<access origin="https://*.google.com" />
	<access origin="https://*.microsoftonline.com" />
	<access origin="https://*.ted.com" />
	<access origin="https://*.tedcdn.com" />
	<access origin="https://*.vimeo.com" />
	<access origin="https://*.vimeocdn.com" />
	<access origin="https://*.chameleon.io" />
	<access origin="https://*.chmln-cdn.io" />
	<access origin="https://*.trychameleon.com" />

	<platform name="android">
    <!--hooks for android-->
    <hook src="hooks/copy-build-extras-gradle.js" type="before_build" />
    
		<allow-intent href="market:*" />
		<allow-navigation href="*" />

    <preference name="android-minSdkVersion" value="21" />
    <preference name="android-targetSdkVersion" value="32" />
    <preference name="cdvMinSdkVersion" value="21"/>
    <preference name="compileSdkVersion" value="32" />
		<preference name="LoadUrlTimeoutValue" value="70000" />
		<preference name="xwalkMultipleApk" value="false"/>
		<preference name="AllowInlineMediaPlayback" value="true" />
		<preference name="MediaPlaybackRequiresUserAction" value="false" />
		<preference name="AndroidLaunchMode" value="singleTask" />
		<preference name="CUSTOM_TAB_COLOR_RGB" default="#808080" />
    <preference name="AndroidXEnabled" value="true" />
    <preference name="AndroidPersistentFileLocation" value="Compatibility" />
    <preference name="hostname" value="studentapp.careered.com" />

   <intent-filter>
     <data android:scheme="{custom-url-scheme}"/>
     <action android:name="android.intent.action.VIEW" />
     <action android:name="android.support.customtabs.action.CustomTabsService" />
     <category android:name="android.intent.category.DEFAULT" />
     <category android:name="android.intent.category.BROWSABLE" />
   </intent-filter>

    <icon density="ldpi" src="{brand}/res/icons/android/drawable-ldpi-icon.png" />
    <icon density="mdpi" src="{brand}/res/icons/android/drawable-mdpi-icon.png" />
    <icon density="hdpi" src="{brand}/res/icons/android/drawable-hdpi-icon.png" />
    <icon density="xhdpi" src="{brand}/res/icons/android/drawable-xhdpi-icon.png" />
    <icon density="xxhdpi" src="{brand}/res/icons/android/drawable-xxhdpi-icon.png" />
    <icon density="xxxhdpi" src="{brand}/res/icons/android/drawable-xxxhdpi-icon.png" />

    <preference name="AndroidWindowSplashScreenAnimatedIcon" value="{brand}/res/screens/android/splash.xml" />

    <resource-file src="{brand}/res/icons/android/notification/ic_small_notification_icon_mdpi.png" target="res/drawable-mdpi/ic_notification.png" />
		<resource-file src="{brand}/res/icons/android/notification/ic_small_notification_icon_hdpi.png" target="res/drawable-hdpi/ic_notification.png" />
		<resource-file src="{brand}/res/icons/android/notification/ic_small_notification_icon_xhdpi.png" target="res/drawable-xhdpi/ic_notification.png" />
		<resource-file src="{brand}/res/icons/android/notification/ic_small_notification_icon_xxhdpi.png" target="res/drawable-xxhdpi/ic_notification.png" />
		<resource-file src="{brand}/res/icons/android/notification/ic_small_notification_icon_xxxhdpi.png" target="res/drawable-xxxhdpi/ic_notification.png" />
		<resource-file src="{brand}/res/values/colors.xml" target="app/src/main/res/values/colors.xml" />
		
    <resource-file src="google-services.json" target="app/google-services.json" />

    <edit-config file="app/src/main/AndroidManifest.xml" mode="merge" target="/manifest/application">
			<application android:allowBackup="false" />
			<application android:fullBackupContent="false" />
			<application  android:usesCleartextTraffic="true" />
      <queries>
        <intent>
          <action android:name="android.media.action.IMAGE_CAPTURE" />
        </intent>
        <intent>
          <action android:name="android.intent.action.GET_CONTENT" />
        </intent>
        <intent>
          <action android:name="android.support.customtabs.action.CustomTabsService" />
        </intent>
      </queries>
		</edit-config>

    <edit-config file="app/src/main/AndroidManifest.xml" target="/manifest" mode="merge">
      <manifest xmlns:tools="http://schemas.android.com/tools" />
    </edit-config>

    <config-file target="app/src/main/AndroidManifest.xml" parent="/*">
			<uses-feature android:name="android.hardware.camera" android:required="false" />
			<uses-feature android:name="android.hardware.camera.autofocus" android:required="false" />
			<uses-permission android:name="android.permission.CAMERA"/>
			<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
			<uses-permission android:name="android.permission.RECORD_VIDEO" />
			<uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
			<uses-permission android:name="android.permission.RECORD_AUDIO" />
			<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
			<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
			<uses-permission android:name="android.permission.READ_PHONE_STATE" />
			<uses-permission android:name="android.permission.READ_CALENDAR" />
			<uses-permission android:name="android.permission.WRITE_CALENDAR" />
			<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
      <uses-permission android:name="android.permission.INTERNET" />
      <uses-permission android:name="android.permission.REQUEST_INSTALL_PACKAGES" tools:node="remove"/>
		</config-file>
	</platform>

	<platform name="ios">
		<allow-intent href="itms:*" />
		<allow-intent href="itms-apps:*" />

    <allow-navigation href="*" />

    <hook src="hooks/deploymentTargetFix.js" type="after_prepare" />

    <resource-file src="GoogleService-Info.plist" target="resources/GoogleService-Info.plist" />

    <!-- Set deploy target SDKs for release and debug builds -->
    <custom-preference name="ios-XCBuildConfiguration-IPHONEOS_DEPLOYMENT_TARGET" value="11.0" buildType="debug" quote="none" />
    <custom-preference name="ios-XCBuildConfiguration-IPHONEOS_DEPLOYMENT_TARGET" value="11.0" buildType="release" />

    <custom-preference name="deployment-target" value="11.0" />
    <custom-preference name="orientation" value="all" />
    <custom-preference name="KeyboardResize" value="true" />
    <custom-preference name="KeyboardResizeMode" value="ionic" />

		<icon src="{brand}/res/icons/ios/icon-1024.png" width="1024" height="1024" />
		<icon height="57" src="{brand}/res/icons/ios/icon.png" width="57" />
		<icon height="114" src="{brand}/res/icons/ios/icon@2x.png" width="114" />
		<icon height="40" src="{brand}/res/icons/ios/icon-40.png" width="40" />
		<icon height="80" src="{brand}/res/icons/ios/icon-40@2x.png" width="80" />
		<icon height="120" src="{brand}/res/icons/ios/icon-40@3x.png" width="120" />
		<icon height="50" src="{brand}/res/icons/ios/icon-50.png" width="50" />
		<icon height="100" src="{brand}/res/icons/ios/icon-50@2x.png" width="100" />
		<icon height="60" src="{brand}/res/icons/ios/icon-60.png" width="60" />
		<icon height="120" src="{brand}/res/icons/ios/icon-60@2x.png" width="120" />
		<icon height="180" src="{brand}/res/icons/ios/icon-60@3x.png" width="180" />
		<icon height="72" src="{brand}/res/icons/ios/icon-72.png" width="72" />
		<icon height="144" src="{brand}/res/icons/ios/icon-72@2x.png" width="144" />
		<icon height="76" src="{brand}/res/icons/ios/icon-76.png" width="76" />
		<icon height="152" src="{brand}/res/icons/ios/icon-76@2x.png" width="152" />
		<icon height="167" src="{brand}/res/icons/ios/icon-83.5@2x.png" width="167" />
		<icon height="29" src="{brand}/res/icons/ios/icon-small.png" width="29" />
		<icon height="58" src="{brand}/res/icons/ios/icon-small@2x.png" width="58" />
		<icon height="87" src="{brand}/res/icons/ios/icon-small@3x.png" width="87" />
    
		<splash src="{brand}/res/screens/ios/drawable-port-xxxhdpi-screen.png" />

	    <custom-config-file target="*-Info.plist" parent="com.urbanairship.reset_keychain">
      <true/>
    </custom-config-file>
    <custom-config-file target="*-Info.plist" parent="NSPhotoLibraryUsageDescription">
      <string>This app requires access to the photo library.</string>
    </custom-config-file>
    <custom-config-file parent="NSCameraUsageDescription" target="*-Info.plist">
      <string>This allows access to the camera, which may be used to upload a profile picture or photos of documents.</string>
    </custom-config-file>
    <custom-config-file parent="NSMicrophoneUsageDescription" target="*-Info.plist">
			<string>This allows access to the microphone, which a student may use to upload a video to their instructor or advisor.</string>
		</custom-config-file>
		<custom-config-file parent="NSBluetoothAlwaysUsageDescription" target="*-Info.plist">
			<string>This will allow &quot;{app-name}&quot; to connect to Bluetooth devices when accessing archived chats and eBooks.</string>
		</custom-config-file>
		<custom-config-file parent="NSBluetoothPeripheralUsageDescription" target="*-Info.plist">
			<string>This will allow &quot;{app-name}&quot; to connect to Bluetooth devices when accessing archived chats and eBooks.</string>
		</custom-config-file>
    <custom-config-file parent="NSCalendarsUsageDescription" target="*-Info.plist">
      <string>This app requires access to the calendar.</string>
    </custom-config-file>
    <custom-config-file parent="NSLocationWhenInUseUsageDescription" target="*-Info.plist">
      <string>This app requires access to your location.</string>
    </custom-config-file>
    <custom-config-file parent="ITSAppUsesNonExemptEncryption" target="*-Info.plist">
      <string>NO</string>
    </custom-config-file>
    <custom-config-file parent="CFBundleDisplayName" target="*-Info.plist">
      <string>{app-name}</string>
    </custom-config-file>
    <custom-config-file target="*-Info.plist" mode="merge" parent="LSApplicationQueriesSchemes">
      <array>
        <string>connectpro</string>
			  <string>zoomus</string>				
      </array>
    </custom-config-file>
    <custom-config-file mode="replace" parent="CFBundleLocalizations" platform="ios">
      <array>
        <string>en</string>
      </array>
    </custom-config-file>
    <custom-config-file mode="replace" parent="CFBundleDevelopmentRegion" platform="ios">
      <array>
        <string>English</string>
      </array>
    </custom-config-file>
    <custom-config-file mode="replace" parent="CFBundleURLTypes" platform="ios">
      <array>
        <dict>
          <key>CFBundleURLSchemes</key>
          <array>
            <string>{custom-url-scheme}</string>
          </array>
        </dict>
      </array>
    </custom-config-file>
  </platform>


	<feature name="StatusBar">
		<param name="ios-package" onload="true" value="CDVStatusBar" />
	</feature>
	<feature name="CDVWKWebViewEngine">
		<param name="ios-package" value="CDVWKWebViewEngine" />
	</feature>
	<feature name="IntentAndNavigationFilter">
		<param name="ios-package" value="CDVIntentAndNavigationFilter"/>
		<param name="onload" value="true"/>
	</feature>
</widget>