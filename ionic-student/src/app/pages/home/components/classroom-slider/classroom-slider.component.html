<ion-list
  *ngIf="isStandardClass && unitsInfo"
  class="navigation-list fade-in"
  [class.fade-in-show]="!hideSlides"
  #assignmentsList
>
  <ion-list-header *ngIf="currentUnitInfo || displayCourseOverview">
    <ion-row class="pec-w-100 pec-mb-10">
      <ion-col size="2" class="ion-align-self-center pec-px-0">
        <ion-button
          *ngIf="unitsInfo.length >= 1"
          fill="clear"
          class="pec-m-0"
          (click)="goToPrevSlide()"
          aria-label="Go to previous Unit"
        >
          <i slot="icon-only" class="pec-icon-arrow-circle-left pec-text-logo-grey pec-fs-28"></i>
        </ion-button>
      </ion-col>
      <ion-col size="8" class="ion-align-self-center pec-px-0">
        <h2 class="ion-text-center pec-font-oswald pec-my-0 pec-fs-17 pec-text-dark" *ngIf="displayCourseOverview">
          <strong>COURSE {{ overviewName }}</strong>
        </h2>
        <h2
          class="ion-text-center pec-font-oswald pec-my-0 pec-fs-17 pec-text-dark"
          *ngIf="currentUnitInfo && !displayCourseOverview"
        >
          <strong>Unit {{ currentUnitInfo.UnitNumber }}</strong>
          <span class="pec-fw-400">
            {{ currentUnitInfo.StartDate | pecDate : 'MMM d' | async }} -
            {{ currentUnitInfo.EndDate | pecDate : 'MMM d' | async }}
          </span>
        </h2>
      </ion-col>
      <ion-col size="2" class="ion-align-self-center ion-text-right pec-px-0">
        <ion-button
          *ngIf="unitsInfo.length >= 1"
          fill="clear"
          class="pec-m-0"
          (click)="goToNextSlide()"
          aria-label="Go to next Unit"
        >
          <i slot="icon-only" class="pec-icon-arrow-circle-right pec-text-logo-grey pec-fs-28"></i>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-list-header>

  <div class="pec-swiper-wrapper swiper-no-swiping" [class.wrapper-show]="!hideSlides">
    <ion-slides
      (ionSlideDidChange)="ionSlideDidChange()"
      (ionSlideWillChange)="ionSlideWillChange()"
      [options]="slidesOptions"
    >
      <ion-slide *ngIf="showOverview">
        <pec-classroom-overview-card
          [classStatus]="classStatus"
          overviewType="Course"
          [isStandard]="isStandardClass"
          [isNewCustomCourse]="isNewCustomCourse"
          [classInfo]="classSummary"
          class="pec-w-100"
        ></pec-classroom-overview-card>
      </ion-slide>

      <ion-slide *ngFor="let unit of unitsInfo">
        <div class="slide-content-wrapper fade-in-show">
          <ion-card *ngIf="unit.HasAssignments === false">
            <ion-card-content>
              <h2 class="pec-text-dark-grey">No assignments in this unit</h2>
            </ion-card-content>
          </ion-card>
          <ion-list>
            <pec-classroom-overview-card
              *ngIf="!isAccelerated && unit.HasAssignments"
              [classStatus]="classStatus"
              overviewType="Unit"
              [isStandard]="isStandardClass"
              [isNewCustomCourse]="isNewCustomCourse"
              [unitInfo]="unit"
              (unitOverviewReady)="onUnitOverviewReady($event, unit)"
            ></pec-classroom-overview-card>
            <ng-container
              *ngIf="(!isStandardClass || isNewCustomCourse) && classInfo.Locations && classInfo.Locations.length > 0"
            >
              <pec-meeting-card
                [courseCode]="classInfo.CourseCode"
                [locations]="classInfo.Locations"
                class="pec-mb-20"
              ></pec-meeting-card>
            </ng-container>
            <pec-unit-assignments-list
              [isCTU]="isCTU"
              [classSummary]="classSummary"
              [isPilotedCourse]="isPilotedCourse"
              [isNewCustomCourse]="isNewCustomCourse"
              [unit]="unit"
              [zoomConcludedChatList]="zoomConcludedChatList"
              (assignmentsReady)="onAssignmentsReady($event, unit)"
              (apiError)="onError()"
            ></pec-unit-assignments-list>
          </ion-list>
          <div *ngIf="!(this.isOrientation || this.isAccelerated) && unit.HasAssignments">
            <pec-smarthinking-tips-card [trackView]="'Classroom View'" [classId]="classId"></pec-smarthinking-tips-card>
          </div>
        </div>
      </ion-slide>
    </ion-slides>
  </div>
</ion-list>

<ion-list *ngIf="!isStandardClass">
  <ng-container *ngFor="let assignment of assignmentList">
    <pec-assignment-card
      [classInfo]="classInfo"
      [isCTU]="isCTU"
      [isCustom]="true"
      [isNewCustomCourse]="isNewCustomCourse"
      [courseCode]="classInfo.CourseCode"
      [assignment]="assignment"
    ></pec-assignment-card>
  </ng-container>
  <div *ngIf="!(this.isOrientation || this.isAccelerated)">
    <pec-smarthinking-tips-card [trackView]="'Classroom View'" [classId]="classId"></pec-smarthinking-tips-card>
  </div>
</ion-list>
