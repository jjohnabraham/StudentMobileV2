<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button class="pec-back-button" [text]="''" [icon]="''"></ion-back-button>
    </ion-buttons>
    <ion-title>Documents</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content forceOverscroll="false" [pecTrackView]="{ view: 'Outstanding Docs View' }">
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <pec-loading *ngIf="showLoading"></pec-loading>
  <ng-container *ngIf="!showLoading">
    <ion-segment [(ngModel)]="selectedDocStatus" (ionChange)="setDocumentsTab()" color="primary" mode="md">
      <ion-segment-button class="pec-font-default-bold" value="outstanding" aria-label="Outstanding">
        OUTSTANDING ({{ outstandingDocsList.length }})
      </ion-segment-button>
      <ion-segment-button class="pec-font-default-bold" value="submitted" aria-label="Submitted">
        SUBMITTED ({{ submittedDocsList.length }})
      </ion-segment-button>
    </ion-segment>
    <ion-list class="pec-p-0">
      <ion-list-header class="letters-header pec-fw-bold pec-fs-12 pec-text-black pec-py-15 pec-px-30">
        <ion-label class="ion-text-uppercase pec-mt-0 pec-w-100 pec-d-flex pec-d-justify-content-between">
          <span>
            {{ filteredActions.length }} Document(s) {{ selectedDocStatus === 'outstanding' ? 'needed' : 'submitted' }}
          </span>
          <span (click)="presentSortModal()" *ngIf="selectedDocStatus === 'outstanding'">
            SORTED BY:
            <span class="ion-text-uppercase sorted-link pec-font-default-bold">{{ sortOrder }}</span>
          </span>
        </ion-label>
        <div
          *ngIf="filteredActions && filteredActions.length > 0"
          class="overview-description"
          [innerHtml]="overviewDescription"
        ></div>
      </ion-list-header>
      <ng-container *ngIf="filteredActions && filteredActions.length > 0">
        <pec-financial-aid-document-item
          *ngFor="let action of filteredActions"
          [document]="action"
        ></pec-financial-aid-document-item>
      </ng-container>
      <div
        *ngIf="!filteredActions || filteredActions.length === 0"
        class="pec-fs-13 pec-bg-white pec-py-15 pec-px-30 pec-mt-0"
        [innerHtml]="overviewDescription"
      ></div>
    </ion-list>
  </ng-container>
</ion-content>
