<ion-row class="modal-buffer" (click)="dissmissModal()"></ion-row>
<ion-row class="modal-content-wrap">
  <ion-col class="pec-px-16">
    <div class="drag-handle" tappable (click)="dissmissModal()"></div>

    <pec-loading *ngIf="showLoading"></pec-loading>

    <div *ngIf="showLoading === false">
      <div class="ctu-fasttrack-image-info">
        <div class="ctu-fast-track-logo" float-left></div>

        <span class="ctu-fast-track-instructions" *ngIf="showError === false && showNoDatesMessage === false">
          You are eligible to Fast Track this course. Please pick a date below to schedule your exam for this course.
        </span>
        <span class="ctu-fast-track-instructions" *ngIf="showError === true">
          There was a problem loading the Fast Track exam scheduler. Please retry below. If this problem persists,
          please contact tech support at
          <a href="tel:8477838937">847-783-8937</a>
          .
        </span>
        <span class="ctu-fast-track-instructions" *ngIf="showNoDatesMessage === true">
          You are eligible to Fast Track this course, however, there are no exam dates available at this time. Please
          contact your Success Coach with any questions.
        </span>
      </div>
      <div class="fast-track-date-option-div" *ngIf="showError === false && showNoDatesMessage === false">
        <ion-radio-group *ngFor="let dateItem of availableDates" [value]="selectedDate?.FTTermId" mode="md">
          <ion-item class="fast-track-date-option" (click)="onDateSelectionChanged(dateItem)">
            <ion-radio
              item-left
              [id]="dateItem.FTTermId"
              [value]="dateItem.FTTermId"
              name="fastTrackDate"
              [disabled]="dateItem.FTTermId === -1"
              radio-group
            ></ion-radio>
            <ion-label for="title" class="fast-track-date-option-label">
              {{ dateItem.FTTermStartdate | pecDate: 'MMMM d' | async }}
              <span class="fast-track-date-na" *ngIf="dateItem.FTTermId === -1">(not available)</span>
            </ion-label>
          </ion-item>
        </ion-radio-group>
      </div>
      <ion-row *ngIf="showNoDatesMessage === false" class="primary-button-row">
        <ion-col class="pec-px-0 pec-pt-0">
          <ion-button
            color="primary"
            class="pec-button-primary pec-m-0 pec-w-100"
            (click)="scheduleNow()"
            *ngIf="showError === false && showNoDatesMessage === false"
            [disabled]="!selectedDate"
          >
            Schedule Now
          </ion-button>
          <ion-button
            color="primary"
            class="pec-button-primary pec-m-0 pec-w-100"
            (click)="reloadDates()"
            *ngIf="showError === true"
          >
            Retry
          </ion-button>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="showNoDatesMessage === true" class="primary-button-row">
        <ion-col class="pec-px-0 pec-pt-0">
          <ion-button color="primary" class="pec-button-primary pec-m-0 pec-w-100" (click)="dissmissModal()">
            Close
          </ion-button>
        </ion-col>
      </ion-row>
    </div>
  </ion-col>
</ion-row>
